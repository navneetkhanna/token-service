# token-service

A node based service to generate token & validate generated token for an email id. Token is generated using HS256 algorithm now.  

We can also implement different algorithms for token generation. https://www.npmjs.com/package/jsonwebtoken

### Prerequisites
Node should be installed in system. Node version > 6
Downloadable link available at https://nodejs.org/en/download/

### Installation instructions
    git clone https://github.com/navneetkhanna/token-service.git
    cd token-service
    git checkout master
    npm install

### Running application
    npm run start

Once application is started, below log will be available on screen
```
> node index.js token-microservice
Email Token Microservice listening on port 80
```

## Testing

This service can be used to generate token and validate the token.

### Generating token
Token can be generated by passing email id in the url
```
http://localhost/generate-token?email=test@mail.com
```
Output generated
```
{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAbWFpbC5jb20iLCJpYXQiOjE1NjUxNTIyODV9.POhJVWgMct8qEtABqkkrL0Ib3K4siRTSpE5mSk1wk9E"}
```

### Validating token
Token can be validated by passing token in the url as query param
```
http://localhost/validate-token?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAbWFpbC5jb20iLCJpYXQiOjE1NjUxNTIyODV9.POhJVWgMct8qEtABqkkrL0Ib3K4siRTSpE5mSk1wk9E
```
Output
```
{"status":"success","email":"test@mail.com"}
```

